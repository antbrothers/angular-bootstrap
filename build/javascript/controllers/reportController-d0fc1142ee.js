"use strict";var myControllers=angular.module("reportController",[]);myControllers.controller("reportCtrl",["$scope","chartService","$location",function(e,t,a){console.log("report"),e.param=a.search(),e.userId=e.param.userId;var r={chart:{renderTo:"Chart",defaultSeriesType:"pie"},title:{text:""},colors:["#fed978","#f9c75d","#88daf6","#67c7ee","#91ded0","#5eccb6"],plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{format:"<b>{point.name}</b><br>￥{point.y:.2f}"}}},credits:{enabled:!1},tooltip:{headerFormat:'<span style="font-size:11px;display: none"></span>',pointFormat:'<span style="color:{point.color}">{point.name}</span>: ￥<b>{point.y:.2f}<br/>'},series:[{type:"pie",name:"",data:[]}]},o={title:{text:""},xAxis:{categories:[]},colors:["#f9c75d","#67c7ee","#5eccb6"],yAxis:{title:{text:""},plotLines:[{value:0,width:1,color:"#808080"}]},tooltip:{pointFormat:'<tr><td style="color: {series.color}">{series.name}: </td><td style="text-align: right"><b>￥{point.y:.1f}</b></td></tr>'},legend:{layout:"horizontal",align:"center",verticalAlign:"top",borderWidth:0},credits:{enabled:!1},series:[]};t.getChartPie(e.userId).success(function(t){if("0"==t.errorNum){e.todayDesc=t.data.todayDesc,e.todayIncome=t.data.todayIncome,e.freeRelease=t.data.freeRelease,e.remit=t.data.remit;for(var a=0;a<t.data.dayStatisticsMap.length;a++){var o=[];o.push(""+t.data.dayStatisticsMap[a].desc,parseInt(t.data.dayStatisticsMap[a].value)),r.series[0].data.push(o)}}$("#container").highcharts(r)}).error(function(){$.helpTool().errorWarning("",{desc:"服务器繁忙"})}),t.getLineData(e.userId).success(function(t){if("0"==t.errorNum){e.weekDesc=t.data.weekDesc,e.weekDate=t.data.weekDate;for(var a=0;a<t.data.xAxis.length;a++)o.xAxis.categories.push(t.data.xAxis[a]);for(var r=0;r<t.data.dayStatisticsMap.length;r++)o.series.push(t.data.dayStatisticsMap[r])}console.log(o.xAxis.categories),$("#line_container").highcharts(o)}).error(function(){$.helpTool().errorWarning("",{desc:"服务器繁忙"})})}]);